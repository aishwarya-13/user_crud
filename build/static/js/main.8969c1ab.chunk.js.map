{"version":3,"sources":["componnets/createuser.tsx","componnets/login.tsx","store/actions/jwt.tsx","componnets/list.tsx","App.tsx","reportWebVitals.ts","store/reducers/index.tsx","store/reducers/jwt.tsx","store/index.tsx","index.tsx"],"names":["CreateUser","useHistory","useLocation","params","useParams","isEdit","useSelector","o","jwt","id","initialState","fname","lname","useState","user","setUser","onChangeUserInput","e","field","val","target","value","trim","u","onReset","useEffect","console","log","headers","localStorage","getItem","axios","get","then","res","r","data","type","onChange","onClick","preventDefault","put","status","post","Login","dispatch","useDispatch","history","userCreds","setUserCreds","payload","setJWT","jwtToken","window","setItem","push","List","users","setUsers","length","map","item","index","role","delete","JSON","parse","stringify","filter","onDelete","pathname","state","App","to","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","combineReducers","action","createStore","reducers","compose","applyMiddleware","thunk","ReactDOM","render","store","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8969c1ab.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport {useSelector} from 'react-redux';\r\nimport {useHistory, useLocation, useParams} from 'react-router-dom';\r\n\r\nconst CreateUser = ()=>{\r\n\r\n    const history = useHistory();\r\n\r\n    const location:any = useLocation();\r\n\r\n    const params:any = useParams();\r\n    \r\n    const jwt = useSelector((o:any)=> o.jwt);\r\n\r\n    const isEdit = params?.id ? true : false;\r\n\r\n    const initialState = {\r\n        fname: '',\r\n        lname:''\r\n    };\r\n\r\n    const [user, setUser] = useState(initialState);\r\n\r\n\r\n    const onChangeUserInput = (e:any, field:string)=>{\r\n        const val = e.target.value ? e.target.value.trim() : '';\r\n        setUser((u)=>{\r\n            return {\r\n                ...u,\r\n                [field]: val\r\n            }\r\n        });\r\n    };\r\n\r\n    const onReset = ()=>{\r\n        setUser(initialState);\r\n    };\r\n\r\n    const onAddUser = (e:any)=>{\r\n        e.preventDefault();\r\n        const headers = {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${localStorage.getItem('jwt')}`\r\n        }\r\n        if(isEdit){\r\n            axios.put('http://localhost:8082/user', {\r\n                fname:user.fname,\r\n                lname: user.lname,\r\n                id: params?.id\r\n            },{\r\n                headers\r\n            }).then((res)=>{\r\n                console.log('res', res);\r\n                if(res.status === 200){\r\n                    onReset();\r\n                }\r\n            });\r\n        }else{\r\n            axios.post('http://localhost:8082/user', {\r\n                fname:user.fname,\r\n                lname: user.lname\r\n            },{\r\n                headers\r\n            }).then((res)=>{\r\n                console.log('res', res);\r\n                if(res.status === 200){\r\n                    onReset();\r\n                }\r\n            });\r\n        }        \r\n    };\r\n\r\n    useEffect(()=>{\r\n        console.log('lo', params)\r\n        let id = params?.id;\r\n        if(params?.id){\r\n            const headers = {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${localStorage.getItem('jwt')}`\r\n            };\r\n    \r\n            axios\r\n                .get(`http://localhost:8082/user/${id}`, {headers})\r\n                .then(res => {\r\n                    console.log('res', res);\r\n                    let r = res?.data\r\n                    if(r){\r\n                        setUser(()=>{\r\n                            return {\r\n                                fname: r.fname,\r\n                                lname: r.lname\r\n                            }\r\n                        });\r\n                    }                    \r\n                });\r\n        };\r\n    },[]);\r\n\r\n    return(\r\n        <form>\r\n            <div>\r\n                <div>\r\n                    <label>Fullname:</label>\r\n                    <input type=\"text\" value={user.fname} onChange={(e)=>{\r\n                       onChangeUserInput(e, 'fname') \r\n                    }} />\r\n                </div>\r\n                <div>\r\n                    <label>Lastname:</label>\r\n                    <input type=\"text\" value={user.lname} onChange={(e)=>{\r\n                       onChangeUserInput(e, 'lname') \r\n                    }} />\r\n                </div>\r\n                <button onClick={onAddUser}>\r\n                    {\r\n                        isEdit ? 'Update User' : 'Create User'\r\n                    }\r\n                </button>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\nexport default CreateUser;","import React, {useState} from 'react';\r\nimport axios from 'axios';\r\nimport {useSelector, useDispatch} from 'react-redux';\r\nimport {setJWT} from '../store/actions/jwt';\r\nimport {useHistory} from 'react-router-dom';\r\n\r\nconst Login = () => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const history = useHistory();\r\n\r\n    const jwt = useSelector((o:any) => o.jwt);\r\n\r\n    const [userCreds, setUserCreds] = useState({fname: '', lname: ''});\r\n\r\n    const onChangeUserInput = (e:any, field:string) => {\r\n        const val = e.target.value\r\n            ? e\r\n                .target\r\n                .value\r\n                .trim()\r\n            : '';\r\n            setUserCreds((u:any) => {\r\n            return {\r\n                ...u,\r\n                [field]: val\r\n            }\r\n        });\r\n    }\r\n\r\n    const onLogin = (e:any) => {\r\n        e.preventDefault();\r\n        axios.post('http://localhost:8082/login', {\r\n            fname: userCreds.fname,\r\n            lname: userCreds.lname\r\n            //user: JSON.stringify(user)\r\n        }).then(res => {\r\n            dispatch(setJWT(res?.data?.jwtToken));\r\n            window.localStorage.setItem('jwt', res?.data?.jwtToken);\r\n            history.push('/');\r\n            console.log('res', res)\r\n        })\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <label>Firstname:</label>\r\n                <input\r\n                    type=\"text\"\r\n                    value={userCreds.fname}\r\n                    onChange={(e) => {\r\n                    onChangeUserInput(e, 'fname')\r\n                }}/>\r\n            </div>\r\n            <div>\r\n                <label>Lastname:</label>\r\n                <input\r\n                    type=\"text\"\r\n                    value={userCreds.lname}\r\n                    onChange={(e) => {\r\n                    onChangeUserInput(e, 'lname')\r\n                }}/>\r\n            </div>\r\n            <button onClick={onLogin}>Login</button>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Login;","export const setJWT = (jwt:any) => {\r\n    console.log('jwt', jwt);\r\n    return{\r\n        type: 'SAVE_JWT',\r\n        payload: jwt\r\n    }\r\n}","import React, {useEffect, useState} from 'react';\r\nimport axios from 'axios';\r\nimport {useSelector} from 'react-redux';\r\nimport {useHistory} from 'react-router-dom';\r\n\r\nconst List = () => {\r\n\r\n    const history = useHistory();\r\n\r\n    const jwt = useSelector((o : any) => o.jwt);\r\n\r\n    const [users,\r\n        setUsers] = useState([]);\r\n\r\n    const onDelete = (id : number) => {\r\n        const headers = {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${localStorage.getItem('jwt')}`\r\n        };\r\n\r\n        axios\r\n            .delete(`http://localhost:8082/user/${id}`, {headers})\r\n            .then(res => {\r\n                console.log('User deleted successfully', res);\r\n                if(res.status === 200){\r\n                    setUsers((users:any)=>{\r\n                        let u = JSON.parse(JSON.stringify(users));\r\n                        let newU = users.filter((item:any, index:any) =>{\r\n                            return item.id !== id;\r\n                        });\r\n                        return newU;\r\n                    });\r\n                }\r\n            });\r\n    };\r\n\r\n    const onUpdate = (id : number) => {\r\n        history.push({\r\n            pathname: `user/${id}`,\r\n            state:{id: id}\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        const headers = {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${localStorage.getItem('jwt')}`\r\n        };\r\n\r\n        axios\r\n            .get('http://localhost:8082/list', {headers})\r\n            .then(res => {\r\n                const users = res.data;\r\n                setUsers(users);\r\n                console.log('list', users);\r\n            });\r\n\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            This is list of users\r\n            <ul>\r\n                {users\r\n                    ?.length\r\n                        ? users.map((item : any, index) => {\r\n                            return (\r\n                                <div>\r\n                                    <li>\r\n                                        <div>\r\n                                            <b>Firstname:\r\n                                            </b>\r\n                                            {item.fname}\r\n                                        </div>\r\n                                        <div>\r\n                                            <b>Lastname:\r\n                                            </b>\r\n                                            {item.lname}\r\n                                        </div>\r\n                                        <div>\r\n                                            <b>Role:\r\n                                            </b>\r\n                                            {item.role}\r\n                                        </div>\r\n                                        {item.role !== 'admin'\r\n                                            ? <div>\r\n                                                    <button\r\n                                                        onClick={() => {\r\n                                                        onDelete(item.id)\r\n                                                    }}>Delete</button>\r\n                                                    <button\r\n                                                        onClick={() => {\r\n                                                        onUpdate(item.id)\r\n                                                    }}>Update</button>\r\n                                                </div>\r\n                                            : <span/>\r\n}\r\n                                    </li>\r\n                                </div>\r\n                            )\r\n                        })\r\n                        : <span/>\r\n}\r\n            </ul>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default List;","import { BrowserRouter as Router, Link, Route, Switch} from 'react-router-dom';\nimport CreateUser from './componnets/createuser';\nimport Login from './componnets/login';\nimport List from './componnets/list';\n\nconst App = () => {\n  return (\n    <Router>\n    <div>\n      <ul>\n        <li>\n          <Link to=\"/\">Home</Link>\n        </li>\n        <li>\n          <Link to=\"/login\">Login</Link>\n        </li>\n        <li>\n          <Link to=\"/create\">Create User</Link>\n        </li>\n      </ul>\n      <Switch>\n        <Route exact path='/' component={List}/>\n        <Route path='/login' component={Login}/>\n        <Route path='/create' component={CreateUser}/>\n        <Route path='/user/:id' component={CreateUser}/>\n      </Switch> \n    </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {combineReducers, Reducer} from 'redux';\r\n\r\nimport jwt from './jwt';\r\n\r\nexport default combineReducers ({\r\n    jwt\r\n}) as Reducer;\r\n\r\n","export default (jwt:any, action:any) => {\r\n    switch(action.type){\r\n        case 'SAVE_JWT':{\r\n            console.log('in reducer', action.payload);\r\n            return action.payload;\r\n        }\r\n\r\n        default: return ''\r\n    }\r\n}","import {createStore, applyMiddleware, compose, Store} from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport reducers from './reducers/index';\r\n\r\nexport default createStore(reducers, compose(applyMiddleware(thunk))) as Store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from 'react-redux';\nimport store from './store/index';\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}